<!DOCTYPE html>
<html ng-app = "alumnes">
<head>
    <title>Document</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootswatch/4.0.0/cosmo/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
    <script src="funcions.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>
<body ng-controller="alumneController">
    <div class="container">
        <form ng-submit="Insertar()">
            <div class="form-group"><!--format Bootstrap-->
                <label for="DNI">DNI:</label><!--s'ha de validar que la lletra del dni sigui correcta-->
                <input type="text" class="form-control"  id="dni" ng-model="enviaralumne.dni" required></input>
            </div>
            <div class="form-group">
                <label for="nom">Nom:</label>
                <input type="text" class="form-control" id="nom" ng-model="enviaralumne.nom" required>
            </div>
            <div class="form-group">
                <label for="llinatges">Llinatges:</label>
                <input type="text" class="form-control" id="llinatges" ng-model="enviaralumne.llinatges" required>
            </div>
            <div class="form-group">
                <label for="correu">Correu electrònic:</label>
                <input type="email" class="form-control" id="correu" ng-model="enviaralumne.correu"  required>
            </div>
            <div class="form-group">
                <label for="nota">Nota:</label>
                <input type="number" class="form-control" id="nota" min="0" max="10" ng-model="enviaralumne.nota" required>
            </div>
            <button type="submit" class="btn btn-default" id="submit"  ng-click="validarDni(enviaralumne.dni)">Enviar</button><!--ng-click per indicar que s'insereixin les dades del formulari-->
        </form>
        <table class="table table-striped"> <!--la taula afegirà les files quan s'introdueixin les dades-->
            <thead>
                <tr>
                    <th scope="col">Alumne</th>
                    <th scope="col">DNI</th>
                    <th scope="col">Nom</th>
                    <th scope="col">Llinatges</th>
                    <th scope="col">Correu electrònic</th>
                    <th scope="col">Nota</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat= "alumne in alumnes">
                    <td>{{$index+1}}</td>
                    <td>{{alumne.dni}}</td>
                    <td>{{alumne.nom}}</td>
                    <td>{{alumne.llinatges}}</td>
                    <td>{{alumne.correu}} </td>
                    <td>{{alumne.nota}}</td>
                    <td><button class="btn btn-default" id="borrar"  ng-click="borrar($index)">Elimina</button></td><!--botó per borrar les files de la taula-->
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>